<tool id="1kg_ld" name="Calculate 1000 genomes LD values" >
<command interpreter="bash">
	ld_values_1kg.sh
	#if  str($1kg_own_param.1kg_own) == "own_file":
		-o $1kg_own_param.own_vcf			
	#endif
	#if  str($1kg_use_type_param.1kg_use_type) == "single":
		-r $1kg_use_type.rsid	
	#end if
	#if str($1kg_use_type_param.1kg_use_type) == "file":
		-s $1kg_use_type.snplist	
	#end if
		-c $region_txt
		-w $ld_window
		-r $ld_window_r2
		-l $ld_window_kb
		-i $comma_list
		-o $plink_output
	#if $matrix
		-m
	#endif 
</command>
	<inputs>
	<conditional name="1kg_use_type_param">
		<param name="1kg_use_type" type="select" label="Single, All the Snps or Provide a SNP list">
		<option value="single" selected="true">Single Snp</option>
		<option value="all">All Snps</option>
		<option value="file">Snp List</option>
		</param>
	<when value="single">
		<param name="rsid" type="text" label="RSID of snp"/>
	</when> on which pairwise calculations are calculated and reported. To only analyse SNPs that are not more than 10 SNPs apart, for example, use the option (default is 10 SNPs) 
	<when value="all">

	</when>
	<when value="file">
		<param name="snplist" type="data" format="txt" label="Line Seperated List of snp RSIDs for LD calculation"/>
	</when>
	</conditional>
	<conditional name="1kg_own_param">
		<param name="1kg_own" type="select" label="1000Genomes file or Own Vcf File">
		<option value="1kg_file">1000 Genomes</option>
		<option value="own_file">VCF from History </option>
		</param>
	<when value="1kg_file">
	</when>
	<when value="own_file">
		<param name="own_vcf" type="data" format="vcf" label="VCF file"/>
	</when>
	</conditional>
	<param name="comma_list" type="txt" label="Comma seperated list of IDS."   />
	<param name="region_txt" type="txt" label="Chromosome Region" description="Chromosome region specified as chr:start-end" />
	<param name="ld_window" type="integer" value="10" label="LD window size" description="Analyse SNPs not more than this number apart"/>
	<param name="ld_window_r2" type="float" value="0.2" label="Specify r2 value minimum"/>
	<param name="ld_window_kb" type="integer" value="1000" label="Specify window size (in kb)" />
	<param name="matrix" type="boolean" truevalue="true" falsevalue="false" value="false" label="Output as a matrix of Values." />
	</inputs>

	<outputs>
		<data name="plink_output" type="text" />
	</outputs>

<help>
The Tool retrieves LD values from 1000 genomes for
a specific chromosome region.


</help>

</tool>

<tool id="vcf_extract_DBSNP" name="Extract DBSNP and VCF" version="1.0.0">
  <description>reads fom a specified region</description>
  <command>
   python "/home/james/galaxy-dist/tools/vcf_tools/vcfPytools.py"
      extract 
      --in=$input1
      --out=$output1
      #if $reference_sequence.value.strip()
        --reference-sequence=$reference_sequence
      #end if
      #if $region.value.strip()
        --region=$region
      #end if
      #if $keep_quality.value.strip()
        --keep-quality=$keep_quality
      #end if
      #if $keep_info.value.strip()
      --keep-info=$keep_info
      #end if
      #if $discard_info.value.strip()
        --discard-info=$discard_info
      #end if
      $pass_filter;
  tabix -h  $region "/home/james/galaxy-dist/tools/soer/data/dbSNP.vcf.gz";
  </command>
  <inputs>
    <param name="input1" label="VCF file" type="data" format="vcf" />
    <param name="reference_sequence" label="Extract records from this reference sequence" type="text" value='' />
    <param name="region" label="Extract records from this region" type="text" value='' help="The format of the region is ref:start..end, where the start and end coordinates are 1-based"/>
    <param name="keep_quality" label="Keep records containing this quality" type="text" value='' help="This requires two arguments: the quality value and a logical operator (eq - equals, le - less than or equal to, lt - less than, ge - greater than or equal to , gt - greater than) to determine which records to keep.  For example: '90 ge' will retain all records that have a quality of 90 or greater"/>
    <param name="keep_info" label="Keep records containing this info field" type="text" value='' />
    <param name="discard_info" label="Discard records containing this info field" type="text" value='' />
    <param name="pass_filter" label="Discard records whose filter field is not PASS" type="boolean" truevalue="--pass-filter" falsevalue="" checked="False"/>
  </inputs>
  <outputs> 
    <data format="vcf" name="output1" label="${tool.name} from ${on_string}" />
    <data format="vcf" name="dbsnp"   label="${tool.name} from ${on_string}.dbsnp"/>
  </outputs>
</tool>

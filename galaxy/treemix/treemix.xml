<tool id="ou_treemix" name="Treemix" version="1.0">
<description>Treemix</description>

<command interpreter="bash">

./treemix.sh $input_file $output_cov $output_covse $output_modelcov $output_treeout $output_vertices $output_edges 
#if ($root == ""):
    blah
#end if

</command>

<inputs>

<param name="input_file" type="data" format="txt" label="Input File" />

<param name="root" value="" type="text" label="Set position of root" help="Optional.e.g. If the name of the outgroup population is Outgroup then enter it here" />

<param name="ld" type="integer" value="0" label="Group SNPs together to account for linkage disequiilibrium" help="Optional. Recommended that you use a value that far exceeds the known extent of LD. Assumes order of SNPs is order in organism" />

<param name="migration" type="integer" value="0" label="Allowed migration events" help="Optional. Will build the ML tree then add the number of migration events." />

<conditional name="add_prev_files">
<param name="add_files" type="select" label="Add previously generated tree/graph?" >
    <option value="yes">Yes</option>
    <option value="no" selected="True">No</option>
</param>

<when value="yes">
    <param name="prev_vert" type="data" format="txt" label="Vertices file" />
    <param name="prev_edge" type="data" format="txt" label="Edges file" />
</when>
</conditional>

</inputs>

<outputs>

<data name="output_cov" format="txt" label="Covariance Matrix" />
<data name="output_covse" format="txt" label="Standard errors for each entry" />
<data name="output_modelcov" format="txt" label="Fitted covariance according to model" />
<data name="output_treeout" format="txt" label="Fitted tree model and migration events" />
<data name="output_vertices" format="txt" label="Vertices (Internal Structure)" />
<data name="output_edges" format="txt" label="Edges (Internal Structure)" />

</outputs>
<help>

Please input a .gz file

</help>
</tool>
